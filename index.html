<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCR Pro Dashboard</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- PDF Library Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.6.0/jspdf.plugin.autotable.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Authentication Container -->
    <div id="auth-container" class="flex items-center justify-center min-h-screen">
        <div class="glass-effect rounded-3xl p-10 max-w-md w-full">
            <!-- Login Form -->
            <div id="login-form" class="auth-form-container">
                <div class="text-center">
                    <h1 class="text-3xl font-bold text-white mb-2">Welcome back</h1>
                    <p class="text-gray-400">Please enter your details to sign in.</p>
                </div>
                
                <form id="login-form-element" class="mt-8">
                    <div class="space-y-6">
                        <div>
                            <label class="text-sm font-medium text-gray-400" for="login-email">Email</label>
                            <div class="relative mt-1">
                                <input 
                                    class="input-field block w-full rounded-lg border-transparent p-4 pr-12 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent" 
                                    id="login-email" 
                                    type="email" 
                                    placeholder="Enter your email"
                                    autocomplete="email"
                                    required
                                />
                                <button type="submit" class="absolute inset-y-0 right-0 flex items-center justify-center w-10 h-full text-white bg-blue-600 hover:bg-blue-700 rounded-r-lg">
                                    <span class="material-icons text-sm">arrow_forward</span>
                                </button>
                            </div>
                        </div>
                        
                        <div>
                            <label class="text-sm font-medium text-gray-400" for="login-password">Password</label>
                            <div class="relative mt-1">
                                <input 
                                    class="input-field block w-full rounded-lg border-transparent p-4 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent" 
                                    id="login-password" 
                                    type="password" 
                                    placeholder="Enter your password"
                                    autocomplete="current-password"
                                    required
                                />
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex items-center mt-6">
                        <input class="h-4 w-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500" id="remember-me" name="remember-me" type="checkbox"/>
                        <label class="ml-2 block text-sm text-gray-300" for="remember-me">Remember me</label>
                    </div>
                </form>

                <div class="relative flex py-5 items-center">
                    <div class="flex-grow border-t border-gray-600"></div>
                    <span class="flex-shrink mx-4 text-gray-400 text-sm">OR</span>
                    <div class="flex-grow border-t border-gray-600"></div>
                </div>

                <div class="space-y-4">
                    <button id="google-login-btn" class="w-full flex items-center justify-between p-4 rounded-lg input-field text-white hover:bg-gray-700 transition-colors">
                        <div class="flex items-center">
                            <img alt="Google logo" class="w-5 h-5 mr-3" src="https://lh3.googleusercontent.com/aida-public/AB6AXuC1OdtLI4jjgGCIiZLn5Sbp9nfVGb-lWvLxmG9XzEsgFQdUSZAziqSd2KvO0_3oKm7OsqSZ_4bWJV0MT3SB_Cfu3W_A5PhuOCfu60geyLvXYEgemcOcEBstX1XTdLTKLqosMfIQk5gElsVW2ql2xMM56KUrCxTsaMqsTeZr5wElGC_MOdow14YH4ADDbPCjtu5nkcPq-0cMfSxkGd0UHDDcqB-IhXMC41ShITho9C0XqkpdaHYCGHDIIa8JdZ7mKm7v93gQeWE9rw"/>
                            Continue with Google
                        </div>
                        <span class="material-icons text-gray-400">arrow_forward</span>
                    </button>
                </div>

                <div class="mt-8 text-center">
                    <p class="text-sm text-gray-400">
                        Don't have an account?
                        <a class="font-medium underline gradient-text cursor-pointer" id="show-signup">Create Account</a>
                    </p>
                </div>
            </div>

            <!-- Sign Up Form -->
            <div id="signup-form" class="auth-form-container signup-variant" style="display: none;">
                <div class="text-center">
                    <h1 class="text-3xl font-bold text-white mb-2">Join OCR Pro</h1>
                    <p class="text-gray-400">Create your account and start processing documents.</p>
                </div>
                
                <form id="signup-form-element" class="mt-8">
                    <div class="space-y-6">
                        <div>
                            <label class="text-sm font-medium text-gray-400" for="signup-email">Email</label>
                            <div class="relative mt-1">
                                <input 
                                    class="input-field block w-full rounded-lg border-transparent p-4 pr-12 text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent" 
                                    id="signup-email" 
                                    type="email" 
                                    placeholder="Enter your email"
                                    autocomplete="email"
                                    required
                                />
                                <button type="submit" class="absolute inset-y-0 right-0 flex items-center justify-center w-10 h-full text-white bg-purple-600 hover:bg-purple-700 rounded-r-lg">
                                    <span class="material-icons text-sm">arrow_forward</span>
                                </button>
                            </div>
                        </div>
                        
                        <div>
                            <label class="text-sm font-medium text-gray-400" for="signup-password">Password</label>
                            <div class="relative mt-1">
                                <input 
                                    class="input-field block w-full rounded-lg border-transparent p-4 text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent" 
                                    id="signup-password" 
                                    type="password" 
                                    placeholder="Create a password (min 6 characters)"
                                    autocomplete="new-password"
                                    minlength="6"
                                    required
                                />
                            </div>
                        </div>
                    </div>
                </form>

                <div class="relative flex py-5 items-center">
                    <div class="flex-grow border-t border-gray-600"></div>
                    <span class="flex-shrink mx-4 text-gray-400 text-sm">OR</span>
                    <div class="flex-grow border-t border-gray-600"></div>
                </div>

                <div class="space-y-4">
                    <button id="google-signup-btn" class="w-full flex items-center justify-between p-4 rounded-lg input-field text-white hover:bg-gray-700 transition-colors">
                        <div class="flex items-center">
                            <img alt="Google logo" class="w-5 h-5 mr-3" src="https://lh3.googleusercontent.com/aida-public/AB6AXuC1OdtLI4jjgGCIiZLn5Sbp9nfVGb-lWvLxmG9XzEsgFQdUSZAziqSd2KvO0_3oKm7OsqSZ_4bWJV0MT3SB_Cfu3W_A5PhuOCfu60geyLvXYEgemcOcEBstX1XTdLTKLqosMfIQk5gElsVW2ql2xMM56KUrCxTsaMqsTeZr5wElGC_MOdow14YH4ADDbPCjtu5nkcPq-0cMfSxkGd0UHDDcqB-IhXMC41ShITho9C0XqkpdaHYCGHDIIa8JdZ7mKm7v93gQeWE9rw"/>
                            Continue with Google
                        </div>
                        <span class="material-icons text-gray-400">arrow_forward</span>
                    </button>
                </div>

                <div class="mt-8 text-center">
                    <p class="text-sm text-gray-400">
                        Already have an account?
                        <a class="font-medium underline gradient-text cursor-pointer" id="show-login">Sign in here</a>
                    </p>
                </div>
            </div>

            <!-- Auth Message -->
            <div id="auth-message" class="auth-message mt-4"></div>
        </div>
    </div>

    <!-- Dashboard Container -->
    <div class="dashboard-container" style="display: none;">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    📄 OCR Pro
                </div>
            </div>
            
            <div class="nav-menu">
                <div class="nav-item active">
                    📊 Dashboard
                </div>
                <div class="nav-item">
                    💼 Business Cards
                </div>
                <div class="nav-item">
                    🧾 Invoices
                </div>
                <div class="nav-item">
                    ⚙️ Settings
                </div>
                <div class="nav-item">
                    💳 Billing
                </div>
                <div class="nav-item">
                    📤 Upload
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div>
                    <h1 class="header-title" id="page-title">Dashboard</h1>
                    <p class="header-subtitle" id="page-subtitle">Monitor your document processing activity</p>
                </div>
                <div class="user-profile">
                    <div class="user-avatar">👤</div>
                    <span id="user-email">Loading...</span>
                    <button id="logout-btn" class="logout-btn">Logout</button>
                </div>
            </header>

            <!-- Dashboard Page Content -->
            <div id="page-dashboard" class="page-content">
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon" style="background: #3b82f620; color: #3b82f6;">📄</div>
                        </div>
                        <div class="stat-number" id="stat-docs-processed">0</div>
                        <div class="stat-label">Documents Processed</div>
                        <div class="stat-trend trend-up">↗ +12% from last month</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon" style="background: #10b98120; color: #10b981;">💼</div>
                        </div>
                        <div class="stat-number" id="stat-business-cards">0</div>
                        <div class="stat-label">Business Cards</div>
                        <div class="stat-trend trend-up">↗ +18% from last month</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon" style="background: #f59e0b20; color: #f59e0b;">🧾</div>
                        </div>
                        <div class="stat-number" id="stat-invoices">0</div>
                        <div class="stat-label">Invoices</div>
                        <div class="stat-trend trend-up">↗ +8% from last month</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon" style="background: #8b5cf620; color: #8b5cf6;">⚡</div>
                        </div>
                        <div class="stat-number" id="stat-accuracy-rate">99.2%</div>
                        <div class="stat-label">Accuracy Rate</div>
                        <div class="stat-trend trend-up">↗ +0.3% from last month</div>
                    </div>
                </div>

                <!-- Usage Chart -->
                <div class="usage-chart">
                    <div class="chart-header">
                        <h3 class="chart-title">Monthly Usage</h3>
                        <span style="color: #94a3b8;">Pro Plan - 10,000 pages/month</span>
                    </div>
                    <div class="usage-bar">
                        <div class="usage-fill" style="width: 34.7%;"></div>
                    </div>
                    <div class="usage-stats">
                        <span>3,470 / 10,000 pages used</span>
                        <span>65.3% remaining</span>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <div class="quick-action full-width" onclick="openUploadModal()">
                        <div class="quick-action-icon">📤</div>
                        <div class="quick-action-title">Upload Documents</div>
                        <div class="quick-action-desc">Process new files</div>
                    </div>
                </div>
            </div>

            <!-- Business Cards Page Content -->
            <div id="page-business-cards" class="page-content" style="display: none;">
                <!-- Recent Business Cards -->
            <div class="data-section">
                <div class="data-header">
                    <h3 class="data-title">Recent Business Cards</h3>
                    <div class="data-controls">
                        <input type="text" class="search-box" id="contacts-search" placeholder="Search contacts...">
                        <input type="date" id="contacts-start-date" class="search-box" style="width: 140px;">
                        <input type="date" id="contacts-end-date" class="search-box" style="width: 140px;">
                        <button class="btn btn-secondary" id="contacts-apply-filter">Apply</button>
                        <button class="btn btn-secondary" id="contacts-clear-filter">Clear</button>
                        <button class="btn btn-primary" id="export-vcf-btn">Export Selected VCF</button>
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="select-all-contacts"></th>
                                <th>Name</th>
                                <th>Job Position</th>
                                <th>Company</th>
                                <th>Phone</th>
                                <th>Email</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="contacts-table-body">
                        </tbody>
                    </table>
                </div>
            </div>

            </div>

            <!-- Invoices Page Content -->
            <div id="page-invoices" class="page-content" style="display: none;">
                <!-- Recent Invoices -->
                <div class="data-section">
                <div class="data-header">
                    <h3 class="data-title">Recent Invoices</h3>
                    <div class="data-controls">
                        <input type="text" class="search-box" id="invoices-search" placeholder="Search invoices...">
                        <input type="date" id="invoices-start-date" class="search-box" style="width: 140px;">
                        <input type="date" id="invoices-end-date" class="search-box" style="width: 140px;">
                        <button class="btn btn-secondary" id="invoices-apply-filter">Apply</button>
                        <button class="btn btn-secondary" id="invoices-clear-filter">Clear</button>
                        <select id="invoice-export-format">
                            <option value="csv">Export as CSV</option>
                            <option value="pdf">Export as PDF</option>
                        </select>
                        <button class="btn btn-primary" id="handle-invoice-export-btn">Export Selected</button>
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="select-all-invoices"></th>
                                <th>Invoice #</th>
                                <th>Supplier</th>
                                <th>Product</th>
                                <th>Loading Port</th>
                                <th>Amount</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="invoices-table-body">
                        </tbody>
                    </table>
                </div>
            </div>
            </div>

            <!-- Settings Page Content -->
            <div id="page-settings" class="page-content" style="display: none;">
                <div class="settings-container">
                    <h2>Settings</h2>
                    <p>Settings page coming soon...</p>
                </div>
            </div>

            <!-- Billing Page Content -->
            <div id="page-billing" class="page-content" style="display: none;">
                <div class="billing-container">
                    <h2>Billing</h2>
                    <p>Billing page coming soon...</p>
                </div>
            </div>

            <!-- Upload Page Content -->
            <div id="page-upload" class="page-content" style="display: none;">
                <div class="upload-container">
                    <h2>Upload Documents</h2>
                    <p>Use the upload button in the toolbar or drag and drop files to get started.</p>
                    <div class="upload-page-actions">
                        <button class="btn btn-primary" onclick="openUploadModal()">
                            📤 Upload Documents
                        </button>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- Upload Modal -->
    <div id="upload-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Upload Documents</h3>
                <button id="close-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div id="drop-zone" class="drop-zone">
                    <p>Drag & drop files here, or click to select files</p>
                    <input type="file" id="file-input" multiple hidden>
                </div>
                <div id="file-preview-container">
                    <h4>Selected Files:</h4>
                    <ul id="file-preview-list">
                        <!-- File previews will be generated here by JavaScript -->
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button id="upload-btn" class="btn btn-primary">Upload Files</button>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="edit-modal-title">Edit Record</h3>
                <button id="close-edit-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="edit-form">
                    <div id="edit-form-fields">
                        <!-- Form fields will be dynamically generated here -->
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" id="cancel-edit-btn" class="btn btn-secondary">Cancel</button>
                <button type="button" id="save-changes-btn" class="btn btn-primary">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-confirm-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <h3>Confirm Delete</h3>
                <button id="close-delete-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <p id="delete-message">Are you sure you want to delete this record? This action cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button type="button" id="cancel-delete-btn" class="btn btn-secondary">Cancel</button>
                <button type="button" id="confirm-delete-btn" class="btn btn-danger">Confirm Delete</button>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>